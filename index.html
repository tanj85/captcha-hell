<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Human Verification Required</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Chatbot in corner -->
        <div id="chatbot" class="chatbot">
            <div class="chatbot-header">
                <span>Support</span>
                <button class="chatbot-minimize">‚àí</button>
            </div>
            <div class="chatbot-content">
                <div class="chatbot-messages" id="chatbot-messages"></div>
            </div>
        </div>

        <!-- Main CAPTCHA container -->
        <div id="captcha-container" class="captcha-container">
            <!-- Step 0: Initial CAPTCHA -->
            <div id="step-0" class="step active">
                <div class="recaptcha-box">
                    <div class="recaptcha-checkbox-container">
                        <input type="checkbox" id="not-robot-checkbox" class="recaptcha-checkbox">
                        <label for="not-robot-checkbox">
                            <span class="checkmark"></span>
                            I'm not a robot
                        </label>
                    </div>
                    <div class="recaptcha-logo">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%234285f4' d='M12 0C5.372 0 0 5.373 0 12s5.372 12 12 12c6.627 0 12-5.373 12-12S18.627 0 12 0zm.25 5l4.5 2.6v5.2l-4.5 2.6-4.5-2.6V7.6l4.5-2.6z'/%3E%3C/svg%3E" alt="reCAPTCHA">
                        <div class="recaptcha-text">
                            <div>reCAPTCHA</div>
                            <div class="recaptcha-privacy">Privacy - Terms</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 1: Brad Face Puzzle -->
            <div id="step-1" class="step">
                <div class="puzzle-container">
                    <h2>Please complete the puzzle to verify you're not a robot</h2>
                    <div class="puzzle-instruction">Drag each piece to its correct position</div>
                    <div class="puzzle-canvas-wrapper">
                        <canvas id="puzzle-canvas" width="400" height="400"></canvas>
                    </div>
                    <div class="puzzle-piece-container">
                    </div>
                </div>
            </div>

            <!-- Step 2: Ad Break -->
            <div id="step-2" class="step ad-break">
                <div class="ad-container">
                    <div class="ad-header">
                        <span>Partnered Content</span>
                        <button class="ad-close" id="ad-close-1" title="Please watch the full video to close"> </button>
                    </div>
                    <div class="ad-content">
                        <video id="ad-video-1" class="ad-video" controls autoplay>
                            <source src="jet2holiday.mp4" type="video/mp4">
                        </video>
                        <div class="ad-text">
                            By clicking the red checkmark, you agree to receive promotional materials and consent to the data collection practices as outlined in our terms.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3: Create Account -->
            <div id="step-3" class="step">
                <div class="form-container">
                    <h2>Create Your Account</h2>
                    <p class="subtitle">Please create your personal login information for Freely Spoken. Make sure to use a strong password. Maybe one that you've used before so that you remember it?</p>
                    <form id="signup-form">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" id="signup-name" required>
                        </div>
                        <div class="form-group">
                            <label>Valid Email Address</label>
                            <input type="email" id="signup-email" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="signup-password" required>
                            <div class="password-requirements">
                                Password must contain at least 12 characters. These characters must include: 1 uppercase letter, 1 lowercase letter, 1 number, 1 special characters, and 1 Egyptian hieroglyph
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Continue</button>
                    </form>
                </div>
            </div>

            <!-- Step 4: Cookie Notice -->
            <div id="step-4" class="step">
                <div class="cookie-notice">
                    <h3>Your Cookie Settings</h3>
                    <p>Captcha-Hell asks you to accept our dark side cookies for performance, social media, and advertising purposes. Social media and advertising cookies of third parties are used to offer you social media functionalities and personalized ads. These personalized ads will surely make you buy more products from our and our partners' services. To get more information or amend your preferences, click the 'More Information' button. To get more information about these cookies and the processing of your personal data, check our Privacy & Cookie Policy <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">here</a>. Do you accept these cookies and the processing of all of your personal data collected?</p>
                    <div class="cookie-buttons">
                        <button id="cookie-accept" class="btn-primary">Accept All</button>
                        <button id="cookie-settings" class="btn-secondary">More Information</button>
                    </div>
                </div>
            </div>

            <!-- Step 5: Credit Card Verification -->
            <div id="step-5" class="step">
                <div class="form-container">
                    <h2>Age Verification Required</h2>
                    <p class="subtitle">Due to recent age-verification laws passed around the world, we must ensure that you are of-age. The easiest, and most secure, way for us to do this is to charge a small fee to your local bank account.</p>
                    <p class="disclaimer">The charge will be small. This is only for age verification purposes. Trust us with your data.</p>
                    <form id="credit-card-form">
                        <div class="form-group">
                            <label>Card Number</label>
                            <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Expiry Date</label>
                                <input type="text" id="card-expiry" placeholder="MM/YY" maxlength="5" required>
                            </div>
                            <div class="form-group">
                                <label>CVV</label>
                                <input type="text" id="card-cvv" placeholder="123" maxlength="3" required>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Verify Age</button>
                    </form>
                </div>
            </div>

            <!-- Step 6: Crypto Conversion -->
            <div id="step-6" class="step">
                <div class="crypto-container">
                    <h2>Congratulations!</h2>
                    <p>Your credit card information has been successfully converted to BradCoin‚Ñ¢</p>
                    <div class="crypto-display">
                        <div class="coin-icon">‚Çø</div>
                        <div class="coin-amount">1</div>
                        <div class="coin-label">BradCoin</div>
                        <div class="coin-value" id="bradcoin-value">1 BradCoin = $1,000.00</div>
                    </div>
                    <div class="crypto-chart">
                        <canvas id="crypto-chart-canvas" width="400" height="200"></canvas>
                    </div>
                    <p class="crypto-disclaimer">*BradCoin is a privately traded currency, so its value may fluctuate. Invest responsibly!</p>
                    <button id="continue-crypto" class="btn-primary">Continue to Platform</button>
                </div>
            </div>

            <!-- Step 7: TOS Agreement -->
            <div id="step-7" class="step">
                <div class="tos-container">
                    <h2>Summary of our Terms</h2>
                    <p class="subtitle">Please read carefully before proceeding</p>
                    <p>These Terms of Service (‚ÄúTerms‚Äù) are part of the User Agreement - a legally binding contract governing your use of Captcha-Hell You should read these Terms of Service (‚ÄúTerms‚Äù) in full, but here are a few key things you should take away:</p>
                    <div class="tos-scroll" id="tos-scroll">
                        <div class="tos-content">
                          
                            <p>You will see advertising on the platform: In exchange for accessing the Services, Captcha-Hell and our third-party providers and partners may display advertising to you. </p>
                            
                            <p>You agree that any dispute arising out of or relating to these Terms or the Service will be resolved through binding arbitration, rather than in court. You hereby WAIVE YOUR RIGHT TO A JURY TRIAL and WAIVE YOUR RIGHT TO PARTICIPATE IN A CLASS ACTION LAWSUIT.</p>
                            
                            <p>When posting Content and otherwise using the Services, you must comply with this User Agreement and Applicable Law: You are responsible for your use of the Services and your Content. You must comply with this User Agreement, its incorporated policies, and all applicable laws.</p>
                            
                            <p>You must abide by the Services' acceptable use terms: You may not access the Services in any way other than through the currently available, published interfaces that we provide. For example, this means that you cannot view the source code of the Services without Captcha-Hell‚Äôs express written permission, try to work around any technical limitations we impose, or otherwise attempt to disrupt the operation of the Services. Doing so would be a violation of our DRM and thus illegal under the DMCA</p>
                            
                            <p>We have broad enforcement rights: Captcha-Hell reserves the right to take enforcement actions against you if you do violate these terms, such as, for example, removing your Content, repurposing your image, limiting visibility, discontinuing your access to Captcha-Hell, or taking legal action. We may also suspend, terminate, or requisition your account for any reasons, such as prolonged inactivity, risk of legal exposure, or commercial inviability.</p>
                            
                            <p>Your privacy is important to us. We reserve the right to share your information with third parties at our discretion. We may sell your data to advertisers, data brokers, and other interested parties. You consent to this data sharing by using our Service.</p>
                            
                            <p>There are Intellectual Property Licenses in these Terms: Captcha-Hell retains ownership and rights to any of the Content you post or share, and you provide us with a broad, royalty-free license to make your Content available to the rest of the world and be used for other commercial purposes. Conversely, we provide you a license to use the software we provide as part of the Services, such as the Captcha-Hell website, solely for the purpose of enabling you to use and enjoy the benefit of the Services.</p>
                            
                            <p>Your use of the Services is at your own risk: We provide the Services on an ‚ÄúAS IS‚Äù and ‚ÄúAS AVAILABLE‚Äù basis, and we disclaim all warranties, responsibility, and liability to you or others to the extent permitted by law. You may be exposed to offensive or harmful content posted by other users. The Services may change from time to time, and we may limit or terminate availability of the Services or particular features to you or other users at any time.</p>

                            <p>We reserve the right to modify these Terms at any time. We will notify you of changes by posting the new Terms on this page. Your continued use of the Service after such modifications constitutes your acceptance of the updated Terms.</p>
                            

                            <p>Please also note that these Terms incorporate our Privacy Policy (<a href="https://www.youtube.com/watch?v=6n3pFFPSlW4">https://tanj85.github.io/captcha-hell/privacy</a>) as well as other terms applicable to your use of the Services and your Content. Finally, these Terms may vary depending on where you live, but in any case, you must be at least 18 years old to use Captcha-Hell.</p>
                            <p style="margin-top: 40px; font-style: italic; color: #999;">By clicking "Agree," you acknowledge that you have read, understood, and agree to be bound by these Terms of Service.</p>
                        </div>
                    </div>
                    <div class="tos-buttons">
                        <button id="tos-agree" class="btn-primary" disabled>I Agree</button>
                        <button id="tos-decline" class="btn-secondary">I Don't Agree</button>
                    </div>
                    <p class="tos-notice" id="tos-notice">Please scroll to the bottom to enable the Agree button</p>
                </div>
            </div>

            <!-- Step 8: One-Time Login Code -->
            <div id="step-8" class="step">
                <div class="form-container">
                    <h2>Two-Factor Authentication</h2>
                    <p class="subtitle">Please enter your one-time login code</p>
                    <p style="font-size: 13px; color: #666; margin-bottom: 20px;">Check the support chat in the bottom right for your code. If you are unable to access it, reload the page and try again</p>
                    <form id="code-form">
                        <div class="form-group">
                            <label>One-Time Code</label>
                            <input type="text" id="login-code" placeholder="000000" maxlength="6" required>
                            <div id="code-error" class="error-message" style="display: none;"></div>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="code-agree" required>
                                <span>By entering this code, I agree to binding arbitration, waive my right to appeal, and consent to unlimited data sharing with third parties for marketing and advertising purposes. If you have concerns, please refer to the agreement found <a href="https://www.youtube.com/watch?v=6AXPnH0C9UA">here</a>.</span>
                            </label>
                        </div>
                        <button type="submit" class="btn-primary">Verify Code</button>
                    </form>
                </div>
            </div>

            <!-- Step 9: Profile Setup -->
            <div id="step-9" class="step">
                <div class="form-container">
                    <h2>Set Up Your Profile</h2>
                    <p class="subtitle">Welcome to Freely Spoken! Let's personalize your account</p>
                    <form id="profile-form">
                        <div class="form-group">
                            <label>Profile Picture - Upload a PNG of your favorite character</label>
                            <div class="file-upload" id="profile-pic-upload">
                                <div class="upload-placeholder">
                                    <span class="upload-icon">üì∑</span>
                                    <span>Click or drag to upload</span>
                                </div>
                                <input type="file" id="profile-pic" accept=".png,image/png" hidden>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary" id="profile-submit" disabled>Continue</button>
                    </form>
                </div>
            </div>

            <!-- Step 10: OAuth Login -->
            <div id="step-10" class="step">
                <div class="oauth-container">
                    <div class="error-message-box">
                        <span class="error-icon">‚ö†Ô∏è</span>
                        <h3>Connection Error</h3>
                        <p>We're having trouble verifying your session. Please log in again using a trusted provider.</p>
                    </div>
                    <div class="oauth-buttons">
                        <button class="oauth-btn google-btn" id="google-login">
                            <span class="oauth-icon">G</span>
                            Continue with Google
                        </button>
                        <button class="oauth-btn meta-btn" id="meta-login">
                            <span class="oauth-icon">f</span>
                            Continue with Meta
                        </button>
                        <button class="oauth-btn amazon-btn" id="amazon-login">
                            <span class="oauth-icon">a</span>
                            Continue with Amazon
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 11: Coolness Gate -->
            <div id="step-11" class="step">
                <div class="gate-container">
                    <h2>Access Denied</h2>
                    <p class="subtitle">Your profile score is too low</p>
                    <div class="coolness-display">
                        <div class="coolness-bar-container">
                            <div class="coolness-bar" id="coolness-bar"></div>
                        </div>
                        <div class="coolness-text">
                            Score: <span id="coolness-score">0</span> / 100
                        </div>
                    </div>
                    <p style="margin: 20px 0; color: #666; line-height: 1.6;">
                        To access the Freely Spoken platform, you need a profile score of at least 100. 
                        <br><br>
                        <strong>Purchase cosmetics from the shop</strong> (bottom-right corner) to increase your score. Each cosmetic adds profile points!
                    </p>
                    <button id="retry-coolness" class="btn-primary">Check Score Again</button>
                </div>
            </div>

            <!-- Step 12: Freely Spoken Feed -->
            <div id="step-12" class="step">
                <div class="feed-container">
                    <div class="feed-header">
                        <h2>Freely Spoken</h2>
                        <p>Your personalized feed</p>
                    </div>
                    <div class="feed-posts" id="feed-posts">
                        <!-- Posts will be dynamically added -->
                    </div>
                    <div id="feed-end" style="display: none; text-align: center; padding: 40px;">
                        <p style="color: #999; margin-bottom: 20px;">You've reached the end of your feed</p>
                        <button id="continue-final" class="btn-primary">Continue</button>
                    </div>
                </div>
            </div>

            <!-- Step 13: Final Dashboard -->
            <div id="step-13" class="step">
                <div class="dashboard-container">
                    <h1 style="text-align: center; margin-bottom: 10px;">You are not Anonymous</h1>
                    <p style="text-align: center; color: #666; margin-bottom: 40px;">A summary of everything we learned about you so far. Use our platform more. You can't leave.</p>
                    
                    <div class="dashboard-section">
                        <h3>Identity Analysis</h3>
                        <div class="identity-reveal"> <!-- Yes, this is hardcoded in. We weren't able to do a full OSINT run on your information in the background -->
                            <p style="font-size: 24px; font-weight: bold; color: #ea4335; margin-bottom: 16px;">We know who you are.</p>
                            <p style="font-size: 18px; margin-bottom: 8px;">You are: <strong>Brad Rosen</strong></p>
                            <ul style="list-style: none; padding: 0;">
                                <li>Professor at Yale University & Vice President and Counsel at Berkshire Hathaway</li>
                                <li>Teaches 'CPSC 1830: Law, Technology, Culture' & 'CPSC 1850: Control, Privacy, and Technology'</li>
                                <li>Email: brad.rosen@yale.edu</li>
                                <li>Research interests: Gen-Z Stares, Type1 vs Type2 Errors in Policy, Defence against the Dark Arts</li>
                            </ul>
                        </div>
                    </div>

                    <div class="dashboard-section">
                        <h3>Personal Data Collected</h3>
                        <div class="data-grid">
                            <div class="data-item">
                                <strong>Name:</strong> <span id="collected-name">‚Äî</span>
                            </div>
                            <div class="data-item">
                                <strong>Email:</strong> <span id="collected-email">‚Äî</span>
                            </div>
                            <div class="data-item">
                                <strong>Password:</strong> <span id="collected-password">‚Äî</span>
                            </div>
                            <div class="data-item">
                                <strong>Credit Card:</strong> <span id="collected-card">‚Äî</span>
                            </div>
                            <div class="data-item">
                                <strong>IP Address:</strong> <span id="collected-ip">‚Äî</span>
                            </div>
                            <div class="data-item">
                                <strong>Browser:</strong> <span id="collected-browser">‚Äî</span>
                            </div>
                            <div class="data-item">
                                <strong>Screen:</strong> <span id="collected-screen">‚Äî</span>
                            </div>
                            <div class="data-item">
                                <strong>Time Spent:</strong> <span id="collected-time">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-section">
                        <h3>Rights You Surrendered</h3>
                        <ul class="rights-list" id="rights-list">
                            <!-- Will be populated dynamically -->
                        </ul>
                    </div>

                    <div class="dashboard-section">
                        <h3>üìà Behavioral Data</h3>
                        <div class="data-grid">
                            <div class="data-item">
                                <strong>Total Clicks:</strong> <span id="total-clicks">0</span>
                            </div>
                            <div class="data-item">
                                <strong>Popups Dismissed:</strong> <span id="popups-dismissed">0</span>
                            </div>
                            <div class="data-item">
                                <strong>Forms Submitted:</strong> <span id="forms-submitted">0</span>
                            </div>
                            <div class="data-item">
                                <strong>Files Uploaded:</strong> <span id="files-uploaded">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-section">
                        <h3>Violations You Committed</h3>
                        <ul class="violations-list" id="violations-list">
                            <!-- Will be populated dynamically -->
                        </ul>
                    </div>

                    <div class="final-message">
                        <p style="font-size: 18px; font-weight: bold; margin-bottom: 16px;">Welcome to the internet. Have a look around.</p>
                        <p style="margin-bottom: 16px;">This was a demonstration of the dark patterns, digital surveillance, and the lowered expectation of privacy on the internet covered in CPSC 1830.</p>
                        <p style="font-size: 14px; color: #666;">This website kind of sucked, right? It was annoying, invasive, and took a long time to get to the "feed" section. This is demonstration of a trend that will only get worse if large social media companies are allowed to extract endless data from their users without any regulation.</p>
                </div>
            </div>
        </div>

        <!-- BradCoin counter (persistent) -->
        <div id="bradcoin-counter" class="bradcoin-counter" style="display: none;">
            <span class="coin-icon">‚Çø</span>
            1 BradCoin = $<span id="counter-amount">1000.00</span>
        </div>

        <!-- Random popup ads -->
        <div id="popup-container"></div>
    </div>
        <!-- Skip Menu (hidden by default) -->
        <div id="skip-menu" class="skip-menu" style="display: none;">
            <h3>Skip to Step</h3>
            <p style="font-size: 12px; color: #666; margin-bottom: 20px;">For testing/grading purposes</p>
            <button onclick="skipToStep(0)">Step 0: reCAPTCHA</button>
            <button onclick="skipToStep(1)">Step 1: Puzzle</button>
            <button onclick="skipToStep(2)">Step 2: Ad Break</button>
            <button onclick="skipToStep(3)">Step 3: Signup</button>
            <button onclick="skipToStep(6)">Step 6: BradCoin</button>
            <button onclick="skipToStep(11)">Step 11: Profile Gate</button>
            <button onclick="skipToStep(12)">Step 12: Feed</button>
            <button onclick="skipToStep(13)">Step 13: Dashboard</button>
            <button onclick="closeSkipMenu()" style="background: #f1f3f4; color: #333;">Cancel</button>
        </div>
        <!-- Skip Menu Overlay -->
        <div id="skip-overlay" class="skip-overlay" style="display: none;" onclick="closeSkipMenu()"></div>
    <script src="script.js"></script>
</body>
</html>